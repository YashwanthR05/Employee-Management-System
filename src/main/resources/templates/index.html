<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Employee Management System</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>

<div class="container">
  <h2>Employee Management System</h2>

  <!-- AUTH SECTION (Always visible first) -->
  <div class="card" id="authCard">
    <h3 id="authTitle">Signup / Login</h3>

    <div id="authInputs" class="grid2">
      <input type="text" id="username" placeholder="Username">
      <input type="password" id="password" placeholder="Password (min 6 chars)">
    </div>

    <div class="row" id="authButtons">
      <button type="button" id="signupBtn" class="secondary">Sign Up</button>
      <button type="button" id="loginBtn">Login</button>
      <button type="button" id="logoutBtn" class="secondary" style="display:none;">Logout</button>
    </div>

    <div class="row">
      <button type="button" id="showForgotBtn" class="linkBtn">Forgot Password?</button>
    </div>

    <!-- Forgot Password -->
    <div class="card innerCard" id="forgotCard" style="display:none;">
      <h4>Forgot Password</h4>
      <div class="row">
        <input type="text" id="forgotUsername" placeholder="Enter your username">
        <button type="button" id="forgotBtn" class="secondary">Get Reset Token</button>
      </div>
      <p class="hint">For demo, token will be shown here. (In real apps it comes by email.)</p>
    </div>

    <!-- Reset Password -->
    <div class="card innerCard" id="resetCard" style="display:none;">
      <h4>Reset Password</h4>
      <div class="grid2">
        <input type="text" id="resetToken" placeholder="Paste reset token">
        <input type="password" id="newPassword" placeholder="New password (min 6 chars)">
      </div>
      <div class="row">
        <button type="button" id="resetBtn">Reset Password</button>
        <button type="button" id="hideResetBtn" class="secondary">Close</button>
      </div>
    </div>

    <p class="hint" id="authHint">Signup first. Then login to manage employees.</p>
    <div id="msg"></div>
  </div>

  <!-- CRUD AREA (Hidden until login) -->
  <div class="card" id="searchCard" style="display:none;">
    <h3>Search</h3>
    <div class="row">
      <input type="text" id="deptSearch" placeholder="Search by Department (e.g., IT)">
      <button type="button" id="searchBtn" class="secondary">Search</button>
      <button type="button" id="clearSearchBtn" class="secondary">Clear</button>
    </div>
  </div>

  <div class="card" id="formCard" style="display:none;">
    <h3 id="formTitle">Add Employee</h3>

    <form id="employeeForm">
      <input type="hidden" id="empId">

      <div class="grid2">
        <input type="text" id="name" placeholder="Name" required>
        <input type="email" id="email" placeholder="Email" required>
      </div>

      <div class="grid2">
        <input type="text" id="department" placeholder="Department" required>
        <input type="number" id="salary" placeholder="Salary" required>
      </div>

      <div class="row">
        <label class="fileLabel">
          <span id="photoLabel">Choose Photo</span>
          <input type="file" id="photo" accept="image/*">
        </label>

        <button type="button" id="updatePhotoBtn" class="secondary" style="display:none;">
          Update Photo
        </button>
      </div>

      <div class="row">
        <button type="submit" id="submitBtn">Add Employee</button>
        <button type="button" id="cancelBtn" class="secondary" style="display:none;">Cancel</button>
      </div>
    </form>
  </div>

  <div class="card" id="listCard" style="display:none;">
    <h3>Employees</h3>
    <div id="employeeList"></div>
  </div>

</div>

<script src="/script.js"></script>
</body>
</html>
